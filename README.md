
# Шпаргалка по синтаксису

Формат файла - json. В `"periodic_messages"` лежит массив сообщений для мессенджеров и игры.

```json
{
    "enabled": true,
    "messenger": [
        "DiscordMessenger"
    ],
    "tag": [
        "azura"
    ],
    "name": "Тестовое сообщение Discord #1",
    "author": "Администрация",
    "content": "test discord #1",
    "period": "*/1 * * * *",
    "datetime": "2024-10-27 12:22:10",
    "delete_after": 180
}
```

Каждое сообщение начинается с `{` и заканчивается `}`, после каждой закрывающей фигурной скобки ставится запятая, кроме последнего элемента - после него запятая не нужна.

## Описание полей сообщения

- `ebabled` (Значение: `true` или `false`) - Включить или отключить сообщение.
- `messenger` (Значение: `DiscordMessenger`, `TelegramMessenger`, `GameserverMessenger`, массив)- Цель сообщения, куда нужно направить текст. Можно указать сразу все мессенджеры.
- `tag` (Значение: `azura`, `qatar`, массив) - Тег сообщения (по сути, означает сервер, для которого предназначено сообщение). Сами сервера находятся во внутреннем конфиге программы и им точно так же присвоены теги, по одному на каждый сервер. И если теги у сообщения и сервера совпали, то сообщение будет направлено на соответствующий сервер. Только у сообщения может быть несколько тегов, а у сервера только один, по понятным причинам.
- `name` (Значение: строка) - Пользовательский идентификатор сообщения, не используется программой.
- `author` (Значение: строка) - Автор сообщения. В `Telegram` и `Discord` будет просто выделенным текстом, будто это написал игрок. В игровом клиенте будет отображаться с префиксом `[Telegram]`.
- `content` (Значение: строка) - Текст сообщения. Для `Telegram` и `Discord` допустимо использовать MarkDown форматирование, для игрового клиента - обычную строку и тег ссылок `<link https://site.com>Текст ссылки</link>`.
- `period` (Значение: `cron`-выражение) - Устанавливает периодичность отправки сообщения. Записывается в формате `cron`. Комбинируется с `datetime`.
- `datetime` (Значение: строка с датой и временем) - Устанавливает дату и время для единократной отправки сообщения. Формат строгий - `год-месяц-число час:минута:секунда`.Комбинируется с `period`.
- `delete_after` (Значение: целое число) - Количество секунд, спустя которое сообщение будет удалено (работает только для `Telegram` и `Discord`).

## Ссылки

- https://jsoneditoronline.org После любого редактирования файла настроек рекомендуется проверить его любым валидатором json, например, этим
- https://crontab.guru Составить и проверить `cron` выражение можно здесь
